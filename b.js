let totalSeconds=330;const timerElement=document.getElementById("timer");function updateTimer(){const e=Math.floor(totalSeconds/60),t=totalSeconds%60;timerElement.textContent=String(e).padStart(2,"0")+" : "+String(t).padStart(2,"0"),totalSeconds<=0?(clearInterval(interval),timerElement.textContent="00 : 00"):totalSeconds--}updateTimer();const interval=setInterval(updateTimer,1e3),downloadLink=document.getElementById("download-link"),popup=document.getElementById("download-popup");downloadLink.addEventListener("click",(function(e){e.preventDefault();const t=this.href,o=t.split("/").pop()||"qrcode.png";fetch(t).then((e=>e.blob())).then((e=>{const t=URL.createObjectURL(e),n=document.createElement("a");n.href=t,n.download=o,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(t),popup.classList.add("show"),setTimeout((()=>popup.classList.remove("show")),1500)})).catch(console.error)}))
