document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".total-amount"),e=document.getElementById("qr-image"),n=document.getElementById("download-link");if(t&&e&&n){const o=t.textContent.trim(),c="https://cdn.jsdelivr.net/gh/olymptrade-affiliate/olymptrade-affiliate.github.io@main/QRIS/"+(parseFloat(o.replace(/[^0-9.]/g,""))/1e3+"k")+".png";e.src=c,n.href=c}let o=330;const c=document.getElementById("timer");function a(){const t=Math.floor(o/60),e=o%60;c.textContent=String(t).padStart(2,"0")+" : "+String(e).padStart(2,"0"),o<=0?(clearInterval(d),c.textContent="00 : 00"):o--}a();const d=setInterval(a,1e3),r=document.getElementById("download-popup");n.addEventListener("click",(function(t){t.preventDefault();const e=this.href,n=e.split("/").pop()||"qrcode.png";fetch(e).then((t=>t.blob())).then((t=>{const e=URL.createObjectURL(t),o=document.createElement("a");o.href=e,o.download=n,document.body.appendChild(o),o.click(),o.remove(),URL.revokeObjectURL(e),r.classList.add("show"),setTimeout((()=>r.classList.remove("show")),1500)})).catch(console.error)}))}))
